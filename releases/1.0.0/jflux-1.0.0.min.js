!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define(["jquery"],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.jflux=e()}}(function(){return function e(t,n,r){function o(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){var n=t[s][1][e];return o(n?n:e)},f,f.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t){function n(){}var r=t.exports={};r.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=n,r.addListener=n,r.once=n,r.off=n,r.removeListener=n,r.removeAllListeners=n,r.emit=n,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")}},{}],2:[function(e,t){t.exports=function(){"use strict";function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var r=e.prototype,o=this,i=o.EventEmitter;return r.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},r.addListener=function(e,n){var r,o=this.getListenersAsObject(e),i="object"==typeof n;for(r in o)o.hasOwnProperty(r)&&-1===t(o[r],n)&&o[r].push(i?n:{listener:n,once:!1});return this},r.on=n("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=n("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,n){var r,o,i=this.getListenersAsObject(e);for(o in i)i.hasOwnProperty(o)&&(r=t(i[o],n),-1!==r&&i[o].splice(r,1));return this},r.off=n("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var r,o,i=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)i.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(o=t[r])&&("function"==typeof o?i.call(this,r,o):s.call(this,r,o));return this},r.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},r.removeAllListeners=n("removeEvent"),r.emitEvent=function(e,t){var n,r,o,i,s=this.getListenersAsObject(e);for(o in s)if(s.hasOwnProperty(o))for(r=s[o].length;r--;)n=s[o][r],n.once===!0&&this.removeListener(e,n.listener),i=n.listener.apply(this,t||[]),i===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},r.trigger=n("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},r._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return o.EventEmitter=i,e},e}.call({})},{}],3:[function(e,t){var n=e("./EventEmitter.js"),r=e("./error.js"),o=e("./utils.js"),i=function(e){var t=function(){var e=o.deepClone(Array.prototype.slice.call(arguments,0));return t._events?(e=["trigger"].concat(e),void t.emit.apply(t,e)):r.create({source:t.handlerName,message:"You are triggering an action that nobody listens to",support:"Remember to add actions to your stores",url:"https://github.com/christianalfoni/jflux/blob/master/DOCUMENTATION.md#jflux-store"})};for(var i in n.prototype)n.prototype.hasOwnProperty(i)&&(t[i]=n.prototype[i]);return t.handlerName=e,t},s=function(){if(Array.isArray(arguments[0])){var e={};return arguments[0].forEach(function(t){e[t]=i(t)}),e}r.create({source:arguments[0],message:"Could not create action(s)",support:"Pass no arguments or an array of strings",url:"https://github.com/christianalfoni/jflux/blob/master/DOCUMENTATION.md#jflux-action"})};t.exports=s},{"./EventEmitter.js":2,"./error.js":15,"./utils.js":23}],4:[function(e,t){var n=e("./dom.js"),r=e("./utils.js"),o=e("./component/createDomNodeRepresentation.js"),i=e("./component/diff.js"),s=e("./component/compile.js"),a=e("./component/Constructor.js"),u=e("./error.js");a.prototype={constructor:a,_init:function(){return this.init&&this.init(),this._renders=this._initialRenders=this.render(this._compiler.bind(this)),this._renders||u.create({source:this._renders,message:"Missing compiled DOM representation",support:"You have to return a compile call from the render method",url:"https://github.com/christianalfoni/jflux/blob/master/DOCUMENTATION.md#components-createacomponent"}),this.$el=s(this._renders,this),this._addBindings(),this._addListeners(),this.$el.on("destroy",this._remove.bind(this)),this.afterRender&&this.afterRender(),this},_remove:function(){return this._listeners.forEach(function(e){e.target.removeListener(e.type,e.cb)}),this.teardown&&this.teardown(),this},_render:function(){this._isRendering=!0,this._renders=this.render(this._compiler.bind(this)),this._isRendering=!1},_addBindings:function(){var e=this;Object.keys(this.bindings).forEach(function(t){var n=t?e.$(t):e.$el;n.is(":checkbox")?n.on("change",function(){var o=r.createGrabObject(e,e.bindings[t]);o.context[o.prop]=n.is(":checked"),n.trigger("$$-change")}):n.on("keydown",function(o){13!==o.keyCode&&setTimeout(function(){var o=r.createGrabObject(e,e.bindings[t]);o.context[o.prop]=n.val(),n.trigger("$$-change")},0)})})},_addListeners:function(){var e=this;Object.keys(this.events).forEach(function(t){var o=r.extractTypeAndTarget(t);e[e.events[t]]||u.create({source:e[e.events[t]],message:"There is no method called "+e.events[t],support:"Make sure that you add methods described in events on your component",url:""}),o.target?e.$el.on(o.type,o.target,function(r){var o=n.$(r.currentTarget);r.data=o.data("data"),e[e.events[t]](r)}):e.$el.on(o.type,function(n){n.data=e.$el.data("data"),e[e.events[t]](n)})})},_compiler:function(){var e=Array.prototype.slice.call(arguments,0);e.indexOf(this.props.children)>=0&&this._children.length&&e.splice.apply(e,[e.indexOf(this.props.children),1].concat(this._children));for(var t=[],r=t,i=[t],s=0;s<e.length;s++){var u=e[s],c=o(u,this);if("object"==typeof u)r.push(c);else{if(!c.node){i.pop(),r=i[i.length-1];continue}r.push(c.node)}if(c.hasChildren){var f=[];f.isChildArray=!0,r.push(f),r=f,i.push(f)}}return"number"==typeof this.index&&(t[0]instanceof n.$&&!t[0].attr("id")?t[0]._jfluxIndex=this.index:t[0]instanceof a&&!t[0].props.id&&(t[0]._jfluxIndex=this.index)),t},_diff:i,$:function(e){return this.$el.find(e)},update:function(){this._render(),this._diff(this._renders,this._initialRenders)},render:function(e){return e("<div></div>")},listenToChange:function(e,t){this.listenTo(e,"change",t)},listenTo:function(e,t,n){this._isRendering&&u.create({source:null,message:"You are running listenTo in your render",support:"The listenTo method is to be run in the init method",url:""}),n=n.bind(this),this._listeners.push({target:e,type:t,cb:n}),e.on(t,n)},map:function(e,t){var n=this;return e.map(function(e,r){var o={item:e,props:n.props,index:r};return t.call(o,n._compiler.bind(o))})}},t.exports=function(e){return function(){var t=Array.prototype.slice.call(arguments,0),n=t.shift(),o=new a(n,t),i=r.mergeTo(o,e);return i._description=e,i}}},{"./component/Constructor.js":5,"./component/compile.js":6,"./component/createDomNodeRepresentation.js":8,"./component/diff.js":9,"./dom.js":14,"./error.js":15,"./utils.js":23}],5:[function(e,t){function n(e,t){this.events={},this.bindings={},this._initialRenders=[],this._isRendering=!1,this._bindings=[],this._renders=[],this._listeners=[],this._children=t,this.props=e||{},this.props.children=[]}e("./../dom.js");t.exports=n},{"./../dom.js":14}],6:[function(e,t){var n=e("./../dom.js"),r=e("./../utils.js"),o=e("./Constructor.js"),i=function(e){var t=n.$();return e.forEach(function(e){Array.isArray(e)&&e.isChildArray?t.last().append(i(e)):t=t.add(Array.isArray(e)?i(r.flatten(e)):e instanceof o?e._init().$el:e)}),t};t.exports=i},{"./../dom.js":14,"./../utils.js":23,"./Constructor.js":5}],7:[function(e,t){var n=(e("./../dom.js"),e("./../utils.js")),r={"$$-id":function(e,t){var r=n.grabContextValue(t,e.attr("$$-id"));e.attr("id",r)},"$$-class":function(e,t){var r=n.grabContextValue(t,e.attr("$$-class")),o=n.createClassString(r);o&&e.attr("class",o)},"$$-style":function(e,t){var r=n.grabContextValue(t,e.attr("$$-style"));e.css(r)},"$$-checked":function(e,t){var r=n.grabContextValue(t,e.attr("$$-checked"));e.attr("checked",r)},"$$-disabled":function(e,t){var r=n.grabContextValue(t,e.attr("$$-disabled"));e.attr("disabled",r)},"$$-value":function(e,t){var r=n.grabContextValue(t,e.attr("$$-value"));e.val(r)},"$$-href":function(e,t){var r=n.grabContextValue(t,e.attr("$$-href"));e.attr("href",r)},"$$-show":function(e,t){var r=n.grabContextValue(t,e.attr("$$-show"));r?e.show():e.hide()},"$$-hide":function(e,t){var r=n.grabContextValue(t,e.attr("$$-hide"));r?e.hide():e.show()},"$$-data":function(e,t){e.data("data",n.grabContextValue(t,e.attr("$$-data")))}},o=function(e,t){return Object.keys(r).forEach(function(n){e.attr(n)&&(r[n](e,t),e.removeAttr(n))}),e};t.exports=o},{"./../dom.js":14,"./../utils.js":23}],8:[function(e,t){var n=e("./../dom.js"),r=e("./convertAttributes.js"),o=e("./../error.js"),i={"short":/<.*\/>/,"long":/<.*>[\s\S]*<\/.*>/,closing:/<\/.*>/,opening:/<.*>/,input:/<input.*>/},s=function(e,t){return(null===e||void 0===e)&&o.create({source:e,message:"compile does not support null or undefined as argument",support:"make sure you pass a supported type",url:"https://github.com/christianalfoni/jflux/blob/master/DOCUMENTATION.md#components-compile"}),"object"==typeof e?e:(e+="",e.match(i.input)?{hasChildren:!1,node:r(n.$(e),t)}:e.match(i.short)||e.match(i.long)?{hasChildren:!1,node:r(n.$(e),t)}:e.match(i.closing)?{hasChildren:!1,node:null}:e.match(i.opening)?{hasChildren:!0,node:r(n.$(e),t)}:"string"==typeof e?{hasChildren:!1,node:n.$(n.document.createTextNode(e))}:void 0)};t.exports=s},{"./../dom.js":14,"./../error.js":15,"./convertAttributes.js":7}],9:[function(e,t){var n=e("./../dom.js"),r=e("./Constructor.js"),o=e("./diff/addToList.js"),i=e("./diff/removeFromList.js"),s=e("./diff/diffAttributes.js"),a=e("./../utils.js"),u=function(e,t,c){e.forEach(function(e,f){if(Array.isArray(e)&&e.isChildArray)u(e,t[f],t[f-1]);else if(Array.isArray(e))e.length>t[f].length?o(e,t[f],c):e.length<t[f].length&&i(e,t[f]),u(e,t[f]);else if(e instanceof r)if(e._description===t[f]._description){var l=t[f].props,d=e.props,p=!a.deepCompare(l,d);p&&(t[f].props=d,t[f].update())}else e._init(),t[f].$el.replaceWith(e.$el),t[f]=e;else 3===e.get(0).nodeType&&e.text()!==t[f].text()?t[f].get(0).nodeValue=e.text():e instanceof n.$&&s(e,t[f])})};t.exports=u},{"./../dom.js":14,"./../utils.js":23,"./Constructor.js":5,"./diff/addToList.js":10,"./diff/diffAttributes.js":11,"./diff/removeFromList.js":12}],10:[function(e,t){var n=e("./../Constructor.js"),r=e("./../compile.js"),o=function(e,t,o){var i=e.map(function(e){return e[0]instanceof n?e[0].props.id||e[0]._jfluxIndex:e[0].attr("id")||e[0]._jfluxIndex}),s=t.map(function(e){return e[0]instanceof n?e[0].props.id||e[0]._jfluxIndex:e[0].attr("id")||e[0]._jfluxIndex});i.forEach(function(i,a){-1===s.indexOf(i)&&a>=t.length?(0===t.length?o.append(r(e[a])):r(e[a]).insertAfter(t[a-1][0]instanceof n?t[a-1][0].$el:t[a-1][0]),t.push(e[a])):-1===s.indexOf(i)&&(r(e[a]).insertBefore(t[a][0]instanceof n?t[a][0].$el:t[a][0]),t.splice(a,0,e[a]))})};t.exports=o},{"./../Constructor.js":5,"./../compile.js":6}],11:[function(e,t){var n=(e("../../dom.js"),[{name:"style",isAttr:!0},{name:"className"},{name:"disabled"},{name:"checked"},{name:"id"},{name:"value"},{name:"data",isMethod:!0}]),r=function(e,t){var r=t.get(0),o=e.get(0);n.forEach(function(n){return n.isMethod||r[n.name]||o[n.name]?n.isMethod&&t[n.name]()!==e[n.name]()?t[n.name](e[n.name]()):n.isAttr&&t.attr(n.name)!==e.attr(n.name)?t.attr(n.name,e.attr(n.name)):r[n.name]=o[n.name]:void 0})};t.exports=r},{"../../dom.js":14}],12:[function(e,t){var n=e("./../Constructor.js"),r=function(e,t){for(var r=e.map(function(e){return e[0]instanceof n?e[0].props.id||e[0]._jfluxIndex:e[0].attr("id")||e[0]._jfluxIndex}),o=t.map(function(e){return e[0]instanceof n?e[0].props.id||e[0]._jfluxIndex:e[0].attr("id")||e[0]._jfluxIndex}),i=o.length-1;i>=0;i--){var s=o[i];-1===r.indexOf(s)&&(t[i][0]instanceof n?t[i][0].$el.remove():t[i][0].remove(),t.splice(i,1))}};t.exports=r},{"./../Constructor.js":5}],13:[function(e,t){var n=e("./utils.js"),r={json:!0,baseUrl:"",pushState:!1,autoRun:!0},o=function(e){return e?void n.mergeTo(r,e):r};t.exports=o},{"./utils.js":23}],14:[function(e,t){(function(n){t.exports={$:function(){return n.jQuery?(this.$=n.jQuery,this.$.apply(this.$,arguments)):"undefined"!=typeof window?(this.$=e("jquery"),this.$.apply(this.$,arguments)):void 0},document:n.document,setWindow:function(t){this.$=e("jquery")(t),this.document=t.document}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{jquery:"jquery"}],15:[function(e,t){t.exports={create:function(e){var t="jFlux error: ",n=Object.keys(e);throw n.indexOf("source")>=0&&(t+=("object"==typeof e.source&&null!==e.source?JSON.stringify(e.source):e.source)+". "),n.indexOf("message")>=0&&(t+=e.message+". "),n.indexOf("support")>=0&&(t+=e.support+". "),n.indexOf("url")>=0&&(t+="More documentation at: "+e.url+"."),new Error(t)}}},{}],16:[function(e,t){(function(n){var r=e("./dom.js"),o=e("./jflux/render.js"),i=e("./config.js"),s=e("./jflux/path.js"),a=e("./component.js"),u=e("./router.js"),c=e("./jflux/run.js"),f=e("./action.js"),l=e("./store.js"),d=e("./test.js"),p=(e("./utils.js"),{run:c,render:o,config:i,path:s,component:a,route:u.route,actions:f,store:l,test:d,fakeStore:function(e){return this.store({exports:e})}});"undefined"!=typeof window&&r.$(function(){!n.define&&i().autoRun&&p.run(),i().json&&r.$.ajaxSetup({contentType:"application/json",dataType:"json",processData:!1,beforeSend:function(e,t){"application/json"===t.contentType&&"GET"!==t.type&&t.data&&"string"!=typeof t.data&&(t.data=JSON.stringify(t.data))}})}),n.exports||n.module||n.define&&n.define.amd||(n.$$=p),t.exports=p}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./action.js":3,"./component.js":4,"./config.js":13,"./dom.js":14,"./jflux/path.js":17,"./jflux/render.js":18,"./jflux/run.js":19,"./router.js":20,"./store.js":21,"./test.js":22,"./utils.js":23}],17:[function(e,t){var n=e("./../config.js"),r=function(){return n().pushState?location.pathname.substr(n().baseUrl.length):location.hash.substr(1)};t.exports=r},{"./../config.js":13}],18:[function(e,t){var n=e("./../dom.js"),r=e("./../utils.js"),o=[];n.$(function(){n.$.event.special&&(n.$.event.special.destroy={remove:function(e){var t=e.handler(),n=r.getFromListByProp(o,"component",t);n&&o.splice(o.indexOf(n),1)}})});var i=function(e,t){var i=r.getFromListByProp(o,"target",t);i&&i.component._description===e._description&&!r.deepCompare(i.component.props,e.props)?(i.component.props=e.props,i.component.update()):i&&i.component._description===e._description||(e._init(),n.$(t).html(e.$el),o.push({component:e,target:t}))};t.exports=i},{"./../dom.js":14,"./../utils.js":23}],19:[function(e,t){var n=e("./../dom.js"),r=e("./../router.js"),o=e("./../config.js"),i=function(){n.$("body").on("click","a",function(e){if(!e.currentTarget.getAttribute("target")&&!e.isDefaultPrevented()){e.preventDefault();var t=window.onhashchange;window.onhashchange=null;var n=e.currentTarget.href.substr(location.origin.length);r.goTo(n),setTimeout(function(){window.onhashchange=t},0)}}),o().pushState?window.onpopstate=function(){r.goBack(location.pathname.substr(o().baseUrl.length))}:window.onhashchange=function(){location.hash?r.goTo(location.hash.substr(1)):window.history.back()};var e=location.pathname.substr(o().baseUrl.length);r.goTo(e)};t.exports=i},{"./../config.js":13,"./../dom.js":14,"./../router.js":20}],20:[function(e,t,n){var r=e("./dom.js"),o=e("./utils.js"),i=e("./config.js"),n={},s=[],a=!0,u="";n.triggerRoute=function(e,t,r,s){"string"==typeof e.callback?n.resolveRoute(o.compileRoute(e.callback,r)):i().pushState?(a||u===t||window.history[s?"replaceState":"pushState"]({},"",i().baseUrl+t),a=!1,e.callback(r)):(location.href=i().baseUrl+"/#"+t,e.callback(r)),u=t},n.resolveRoute=function(e,t){for(var r=0;r<s.length;r++){var i=s[r];if(o.matchRoute(e,i.path,o.isParam)){var a=o.getParams(e,i.path,o.isParam);return n.triggerRoute(i,o.compileRoute(i.path,a),a,t)}}if(s.length)throw new Error("No routes match "+e)},n.route=function(e,t){1===arguments.length?n.goTo(e):s.push({path:e,callback:t})},n.goTo=function(e){r.$(function(){n.resolveRoute(e)})},n.goBack=function(e){n.resolveRoute(e,!0)},n.deferTo=function(e){return function(){n.goTo(e)}},t.exports=n},{"./config.js":13,"./dom.js":14,"./utils.js":23}],21:[function(e,t){function n(e,t){t.actions=t.actions||[],t.exports=t.exports||{},e&&Array.isArray(e)&&e.forEach(function(e){Object.keys(e).forEach(function(r){switch(r){case"mixins":return n(e.mixins,e);case"actions":t.actions=t.actions.concat(e.actions);break;case"exports":Object.keys(e.exports).forEach(function(n){t.exports[n]=e.exports[n]});break;default:if(t[r])throw new Error("The property: "+r+", already exists. Can not merge mixin with keys: "+Object.keys(e).join(", "));t[r]=e[r]}})});var i=Object.create(r.prototype);return t.emitChange=function(){i.emit("change")},t.emit=function(){i.emit.apply(i,arguments)},t.actions.forEach(function(e){if(!e||!e.handlerName)throw new Error("This is not an action "+e);if(!t[e.handlerName])throw new Error("There is no handler for action: "+e);e.on("trigger",t[e.handlerName].bind(t))}),Object.keys(t.exports).forEach(function(e){i[e]=function(){return o.deepClone(t.exports[e].apply(t,arguments))}}),i}{var r=e("./EventEmitter.js"),o=e("./utils.js");e("./error.js")}t.exports=function(e){return n(e.mixins,e)}},{"./EventEmitter.js":2,"./error.js":15,"./utils.js":23}],22:[function(e,t){(function(n){var r=e("./dom.js");t.exports=function(t,o,i){var s=e,a=s("proxyquire").noPreserveCache(),u=s("jsdom").env,c="<html><body></body></html>",f=function(){return o?a(t,o):e(t)};if(1===arguments.length&&"function"==typeof t)i=t;else{2===arguments.length&&(i=o,o=null),t=n.cwd()+"/"+t;var l=f(t,o)}1===arguments.length?u(c,function(e,t){r.setWindow(t);try{i(r.$)}catch(n){console.log(n)}t.close()}):arguments.length>1&&i.length<2?i(l):u(c,function(e,t){r.setWindow(t);try{i(l,r.$)}catch(n){console.log(n)}t.close()})}}).call(this,e("_process"))},{"./dom.js":14,_process:1}],23:[function(e,t,n){var n=(e("./dom.js"),{});n.deepClone=function(e){var t,r="[Circular]",o=[];if(!e||"object"!=typeof e)return e;if(e instanceof Date)return t=new Date,t.setTime(e.getTime()),t;if(e instanceof Array||e.length){o.push(e),t=[];for(var i=0,s=e.length;s>i;i++)t[i]=o.indexOf(e[i])>=0?r:n.deepClone(e[i]);return o.pop(),t}o.push(e),t={},e instanceof Error&&(t.name=e.name,t.message=e.message,t.stack=e.stack);for(var a in e)e.hasOwnProperty(a)&&(t[a]=o.indexOf(e[a])>=0?r:n.deepClone(e[a]));return o.pop(),t},n.isParam=function(e){var t=e.match(/^\{.*\}$/);return t&&t.length?!0:!1},n.removeFromListByProp=function(e,t,n){for(var r=0;r<e.length;r++)if(e[r][t]===n)return void e.splice(r,1)},n.flatten=function(e){return e.reduce(function(e,t){return e=e.concat(t)},[])},n.getFromListByProp=function(e,t,n){for(var r=0;r<e.length;r++)if(e[r][t]===n)return e[r]},n.removeEmptyInArray=function(e){for(var t=e.length-1;t>=0;t--)e[t]||"number"==typeof e[t]||e.splice(t,1);return e},n.matchRoute=function(e,t,n){if("*"===t)return!0;var r=e.split("/"),o=t.split("/");if(this.removeEmptyInArray(r),this.removeEmptyInArray(o),r.length!==o.length)return!1;for(var i=0;i<r.length;i++)if(r[i]!==o[i]&&!n(o[i]))return!1;return!0},n.getParams=function(e,t,n){var r={},o=e.split("/"),i=t.split("/");return i.forEach(function(e,t){n(e)&&(r[e.replace(/\{|\}/g,"")]=o[t])}),r},n.compileRoute=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e=e.replace("{"+n+"}",t[n]));return e},n.mergeTo=function(e){var t=Array.prototype.splice.call(arguments,1,arguments.length-1);return t.forEach(function(t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}),e},n.isObject=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)},n.deepCompare=function(e,t){var r=function(e,t){if(Array.isArray(e)||n.isObject(e)){var r=n.deepCompare(e,t);if(!r)return!1}else if(e!==t)return!1;return!0};if(Array.isArray(e)&&Array.isArray(t)&&e!==t&&e.length===t.length){for(var o=0;o<e.length;o++){var i=r(e[o],t[o]);if(!i)return!1}return!0}if(n.isObject(e)&&n.isObject(t)&&e!==t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var s in e)if(e.hasOwnProperty(s)){var i=r(e[s],t[s]);if(!i)return!1}return!0}return!1},n.grabContextValue=function(e,t){var n=e,r=t.split(".");return r.forEach(function(e){n=n[e]}),n},n.createGrabObject=function(e,t){var n=t.split("."),r=n.pop();return n.forEach(function(t){e=e[t]}),{prop:r,context:e}},n.createClassString=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&e[n]&&t.push(n);return t.join(" ")},n.extractTypeAndTarget=function(e){var t=e.split(" ");return{type:t[0],target:t[1]}},t.exports=n},{"./dom.js":14}]},{},[16])(16)});